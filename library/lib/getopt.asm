	COM	'<small c compiler output>'
*MOD
_OPTARG:
	DC	2,0
_OPTIND:
	DEFW	0
_OPTERR:
	DEFW	0
_OPTOPT:
	DC	2,0
_GO_SCAN:
	DC	2,0
_GO_GARBA:
	DEFW	1
_GETOPT:
	DEBUG	'getopt'
	DEC	SP
	PUSH	BC
	LD	HL,0
	LD	(_OPTARG),HL
	LD	HL,(_GO_GARBA)
	LD	A,H
	OR	L
	JP	Z,$?2
	LD	HL,0
	LD	(_GO_SCAN),HL
	LD	HL,0
	LD	(_GO_GARBA),HL
$?2:
	LD	HL,(_GO_SCAN)
	PUSH	HL
	LD	HL,0
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	NZ,$?4
	LD	HL,(_GO_SCAN)
	CALL	CCGCHAR
	PUSH	HL
	LD	HL,0
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	NZ,$?4
	LD	HL,0
	JP	$?5
$?4:
	LD	HL,1
$?5:
	LD	A,H
	OR	L
	JP	Z,$?3
	LD	HL,(_OPTIND)
	LD	A,H
	OR	L
	JP	NZ,$?6
	LD	HL,(_OPTIND)
	INC	HL
	LD	(_OPTIND),HL
	DEC	HL
$?6:
	LD	HL,(_OPTIND)
	PUSH	HL
	LD	HL,11
	ADD	HL,SP
	CALL	CCGINT
	POP	DE
	CALL	CCGE
	LD	A,H
	OR	L
	JP	NZ,$?8
	LD	HL,7
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,(_OPTIND)
	POP	DE
	ADD	HL,HL
	ADD	HL,DE
	CALL	CCGINT
	CALL	CCGCHAR
	PUSH	HL
	LD	HL,45
	POP	DE
	CALL	CCNE
	LD	A,H
	OR	L
	JP	NZ,$?8
	LD	HL,7
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,(_OPTIND)
	POP	DE
	ADD	HL,HL
	ADD	HL,DE
	CALL	CCGINT
	INC	HL
	CALL	CCGCHAR
	PUSH	HL
	LD	HL,0
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	NZ,$?8
	LD	HL,0
	JP	$?9
$?8:
	LD	HL,1
$?9:
	LD	A,H
	OR	L
	JP	Z,$?7
	LD	HL,-1
	INC	SP
	POP	BC
	RET
$?7:
	LD	HL,7
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,(_OPTIND)
	POP	DE
	ADD	HL,HL
	ADD	HL,DE
	CALL	CCGINT
	PUSH	HL
	LD	HL,$?1+0
	PUSH	HL
	CALL	_STRCMP
	POP	BC
	POP	BC
	LD	A,H
	OR	L
	JP	NZ,$?10
	LD	HL,(_OPTIND)
	INC	HL
	LD	(_OPTIND),HL
	DEC	HL
	LD	HL,-1
	INC	SP
	POP	BC
	RET
$?10:
	LD	HL,7
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,(_OPTIND)
	POP	DE
	ADD	HL,HL
	ADD	HL,DE
	CALL	CCGINT
	LD	DE,1
	ADD	HL,DE
	LD	(_GO_SCAN),HL
	LD	HL,(_OPTIND)
	INC	HL
	LD	(_OPTIND),HL
	DEC	HL
$?3:
	LD	HL,2
	ADD	HL,SP
	PUSH	HL
	LD	HL,(_GO_SCAN)
	INC	HL
	LD	(_GO_SCAN),HL
	DEC	HL
	CALL	CCGCHAR
	POP	DE
	LD	A,L
	LD	(DE),A
	LD	(_OPTOPT),HL
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,7
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,6
	ADD	HL,SP
	CALL	CCGCHAR
	PUSH	HL
	CALL	_STRCHR
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,0
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	NZ,$?12
	LD	HL,2
	ADD	HL,SP
	CALL	CCGCHAR
	PUSH	HL
	LD	HL,58
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	NZ,$?12
	LD	HL,0
	JP	$?13
$?12:
	LD	HL,1
$?13:
	LD	A,H
	OR	L
	JP	Z,$?11
	LD	HL,63
	INC	SP
	POP	BC
	RET
$?11:
	LD	HL,0
	ADD	HL,SP
	LD	D,H
	LD	E,L
	CALL	CCGINT
	INC	HL
	CALL	CCPINT
	DEC	HL
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGCHAR
	PUSH	HL
	LD	HL,58
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	Z,$?14
	LD	HL,(_GO_SCAN)
	CALL	CCGCHAR
	LD	A,H
	OR	L
	JP	Z,$?15
	LD	HL,(_GO_SCAN)
	LD	(_OPTARG),HL
	LD	HL,0
	LD	(_GO_SCAN),HL
	JP	$?16
$?15:
	LD	HL,(_OPTIND)
	PUSH	HL
	LD	HL,11
	ADD	HL,SP
	CALL	CCGINT
	POP	DE
	CALL	CCLT
	LD	A,H
	OR	L
	JP	Z,$?17
	LD	HL,7
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,(_OPTIND)
	POP	DE
	ADD	HL,HL
	ADD	HL,DE
	CALL	CCGINT
	LD	(_OPTARG),HL
	LD	HL,(_OPTIND)
	INC	HL
	LD	(_OPTIND),HL
	DEC	HL
	JP	$?18
$?17:
	LD	HL,63
	INC	SP
	POP	BC
	RET
$?18:
$?16:
$?14:
	LD	HL,2
	ADD	HL,SP
	CALL	CCGCHAR
	INC	SP
	POP	BC
	RET
	INC	SP
	POP	BC
$?1:	DEFB	45,45,0
	END
