	COM	'<small c compiler output>'
*MOD
_READTXT:
	DEBUG	'readtxt'
	PUSH	BC
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_SECSEEK
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?2
	LD	HL,$?1+0
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	RET
$?2:
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_SECREAD
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?3
	LD	HL,$?1+26
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
$?3:
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	RET
	POP	BC
$?1:	DEFB	114,101,97,100,116,120,116,58,32,67
	DEFB	111,117,108,100,32,110,111,116,32,115
	DEFB	101,101,107,33,13,0,114,101,97,100
	DEFB	116,120,116,58,32,67,111,117,108,100
	DEFB	32,110,111,116,32,114,101,97,100,33
	DEFB	13,0
_GETSTXT:
	DEBUG	'getstxt'
	PUSH	BC
	PUSH	BC
	LD	HL,14
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	POP	DE
	CALL	CCLT
	LD	A,H
	OR	L
	JP	Z,$?5
	LD	HL,-1
	POP	BC
	POP	BC
	RET
$?5:
$?6:
	LD	HL,14
	ADD	HL,SP
	LD	D,H
	LD	E,L
	CALL	CCGINT
	DEC	HL
	CALL	CCPINT
	LD	A,H
	OR	L
	JP	Z,$?7
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	LD	HL,256
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	Z,$?8
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_GETW
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	NZ,$?9
	JP	$?7
$?9:
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,14
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,14
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,14
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	CALL	_READTXT
	POP	BC
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?10
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	POP	BC
	RET
$?10:
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	POP	DE
	CALL	CCPINT
$?8:
	LD	HL,2
	ADD	HL,SP
	PUSH	HL
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	LD	D,H
	LD	E,L
	CALL	CCGINT
	INC	HL
	CALL	CCPINT
	DEC	HL
	POP	DE
	ADD	HL,DE
	CALL	CCGCHAR
	POP	DE
	CALL	CCPINT
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,0
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	NZ,$?12
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,13
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	NZ,$?12
	LD	HL,0
	JP	$?13
$?12:
	LD	HL,1
$?13:
	LD	A,H
	OR	L
	JP	Z,$?11
	JP	$?7
$?11:
	LD	HL,16
	ADD	HL,SP
	LD	D,H
	LD	E,L
	CALL	CCGINT
	INC	HL
	CALL	CCPINT
	DEC	HL
	PUSH	HL
	LD	HL,4
	ADD	HL,SP
	CALL	CCGINT
	POP	DE
	LD	A,L
	LD	(DE),A
	JP	$?6
$?7:
	LD	HL,16
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,0
	POP	DE
	LD	A,L
	LD	(DE),A
	LD	HL,0
	POP	BC
	POP	BC
	RET
	POP	BC
	POP	BC
_GETCTXT:
	DEBUG	'getctxt'
	PUSH	BC
	LD	HL,4
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	LD	HL,256
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	Z,$?15
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_GETW
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	NZ,$?16
	LD	HL,-1
	POP	BC
	RET
$?16:
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	CALL	_READTXT
	POP	BC
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?17
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCNEG
	POP	BC
	RET
$?17:
	LD	HL,4
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	POP	DE
	CALL	CCPINT
$?15:
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	LD	D,H
	LD	E,L
	CALL	CCGINT
	INC	HL
	CALL	CCPINT
	DEC	HL
	POP	DE
	ADD	HL,DE
	CALL	CCGCHAR
	POP	BC
	RET
	POP	BC
_PUTCTXT:
	DEBUG	'putctxt'
	PUSH	BC
	PUSH	BC
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	LD	HL,256
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	Z,$?19
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_GETFREE
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,-1
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	Z,$?20
	LD	HL,-1
	POP	BC
	POP	BC
	RET
$?20:
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_PUTW
	POP	BC
	POP	BC
	LD	HL,2
	ADD	HL,SP
	PUSH	HL
	LD	HL,16
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,14
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	CALL	_SECSEEK
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?21
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_PUTFREE
	POP	BC
	POP	BC
	LD	HL,$?18+0
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	POP	BC
	RET
$?21:
	LD	HL,2
	ADD	HL,SP
	PUSH	HL
	LD	HL,16
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,16
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_SECWRITE
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?22
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_PUTFREE
	POP	BC
	POP	BC
	LD	HL,$?18+39
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	POP	BC
	RET
$?22:
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,256
	PUSH	HL
	CALL	_ZEROMEM
	POP	BC
	POP	BC
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	POP	DE
	CALL	CCPINT
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	POP	DE
	CALL	CCPINT
$?19:
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	LD	D,H
	LD	E,L
	CALL	CCGINT
	INC	HL
	CALL	CCPINT
	DEC	HL
	POP	DE
	ADD	HL,DE
	PUSH	HL
	LD	HL,18
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,255
	POP	DE
	CALL	CCAND
	POP	DE
	LD	A,L
	LD	(DE),A
	LD	HL,0
	POP	BC
	POP	BC
	RET
	POP	BC
	POP	BC
$?18:	DEFB	67,111,117,108,100,32,110,111,116,32
	DEFB	115,101,101,107,32,108,111,99,116,120
	DEFB	116,95,112,32,116,111,32,119,114,105
	DEFB	116,101,95,114,101,99,33,13,0,67
	DEFB	111,117,108,100,32,110,111,116,32,119
	DEFB	114,105,116,101,32,116,101,120,116,32
	DEFB	102,105,108,101,33,13,0
_PUTSTXT:
	DEBUG	'putstxt'
	PUSH	BC
	PUSH	BC
$?24:
	LD	HL,16
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGCHAR
	LD	A,H
	OR	L
	JP	Z,$?25
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	LD	HL,256
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	Z,$?26
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_GETFREE
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,-1
	POP	DE
	CALL	CCEQ
	LD	A,H
	OR	L
	JP	Z,$?27
	LD	HL,-1
	POP	BC
	POP	BC
	RET
$?27:
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_PUTW
	POP	BC
	POP	BC
	LD	HL,2
	ADD	HL,SP
	PUSH	HL
	LD	HL,16
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,14
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	CALL	_SECSEEK
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?28
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_PUTFREE
	POP	BC
	POP	BC
	LD	HL,$?23+0
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	POP	BC
	RET
$?28:
	LD	HL,2
	ADD	HL,SP
	PUSH	HL
	LD	HL,16
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,16
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_SECWRITE
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?29
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_PUTFREE
	POP	BC
	POP	BC
	LD	HL,$?23+39
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	POP	BC
	RET
$?29:
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,256
	PUSH	HL
	CALL	_ZEROMEM
	POP	BC
	POP	BC
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	ADD	HL,SP
	CALL	CCGINT
	POP	DE
	CALL	CCPINT
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,2
	POP	DE
	CALL	CCPINT
$?26:
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	LD	D,H
	LD	E,L
	CALL	CCGINT
	INC	HL
	CALL	CCPINT
	DEC	HL
	POP	DE
	ADD	HL,DE
	PUSH	HL
	LD	HL,18
	ADD	HL,SP
	LD	D,H
	LD	E,L
	CALL	CCGINT
	INC	HL
	CALL	CCPINT
	DEC	HL
	CALL	CCGCHAR
	POP	DE
	LD	A,L
	LD	(DE),A
	JP	$?24
$?25:
	LD	HL,0
	POP	BC
	POP	BC
	RET
	POP	BC
	POP	BC
$?23:	DEFB	67,111,117,108,100,32,110,111,116,32
	DEFB	115,101,101,107,32,108,111,99,116,120
	DEFB	116,95,112,32,116,111,32,119,114,105
	DEFB	116,101,95,114,101,99,33,13,0,67
	DEFB	111,117,108,100,32,110,111,116,32,119
	DEFB	114,105,116,101,32,116,101,120,116,32
	DEFB	102,105,108,101,33,13,0
_FLUSHTXT:
	DEBUG	'flushtxt'
	PUSH	BC
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,0
	PUSH	HL
	CALL	_PUTW
	POP	BC
	POP	BC
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,10
	ADD	HL,SP
	CALL	CCGINT
	CALL	CCGINT
	PUSH	HL
	CALL	_SECSEEK
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?31
	LD	HL,$?30+0
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	RET
$?31:
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,12
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_SECWRITE
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?32
	LD	HL,$?30+39
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	RET
$?32:
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,256
	PUSH	HL
	CALL	_ZEROMEM
	POP	BC
	POP	BC
	LD	HL,6
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,0
	POP	DE
	CALL	CCPINT
	LD	HL,4
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,256
	POP	DE
	CALL	CCPINT
	LD	HL,0
	POP	BC
	RET
	POP	BC
$?30:	DEFB	67,111,117,108,100,32,110,111,116,32
	DEFB	115,101,101,107,32,108,111,99,116,120
	DEFB	116,95,112,32,116,111,32,119,114,105
	DEFB	116,101,95,114,101,99,33,13,0,67
	DEFB	111,117,108,100,32,110,111,116,32,102
	DEFB	108,117,115,104,32,116,101,120,116,32
	DEFB	102,105,108,101,33,13,0
_WRITEFRE:
	DEBUG	'writefre'
	PUSH	BC
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,0
	PUSH	HL
	CALL	_SECSEEK
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?34
	LD	HL,$?33+0
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	RET
$?34:
	LD	HL,0
	ADD	HL,SP
	PUSH	HL
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	LD	HL,8
	ADD	HL,SP
	CALL	CCGINT
	PUSH	HL
	CALL	_SECWRITE
	POP	BC
	POP	BC
	POP	DE
	CALL	CCPINT
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	LD	A,H
	OR	L
	JP	Z,$?35
	LD	HL,$?33+39
	PUSH	HL
	LD	HL,_STDERR
	PUSH	HL
	CALL	_FPUTS
	POP	BC
	POP	BC
	LD	HL,0
	ADD	HL,SP
	CALL	CCGINT
	POP	BC
	RET
$?35:
	LD	HL,0
	POP	BC
	RET
	POP	BC
$?33:	DEFB	67,111,117,108,100,32,110,111,116,32
	DEFB	115,101,101,107,32,108,111,99,116,120
	DEFB	116,95,112,32,116,111,32,98,101,103
	DEFB	105,110,110,105,110,103,33,13,0,67
	DEFB	111,117,108,100,32,110,111,116,32,119
	DEFB	114,105,116,101,32,116,101,120,116,32
	DEFB	102,105,108,101,32,102,114,101,101,109
	DEFB	97,112,33,13,0
	END
